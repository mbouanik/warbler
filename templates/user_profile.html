{% extends "base.html" %} {% block title %} {{ user.username }} {% endblock %}
{% block content %}
<div class="header">
    <img src="{{ user.header_image_url }}" alt="r...">
</div>
       
    <div class="profile-stats">
        <div class="profile-user">
            <img src="{{ user.image_url }}"
                alt="Image for {{ user.username }}"
                class="card-image profile-pic-bg rounded-circle">
        </div>

        <div class="stat profile-stat">
            <div class="text-muted"> <b>Message</b></div>
            <div> <a href="">{{ user.messages | length}} </a> </div> 
        </div >
        <div class="stat profile-stat">
            <div class="text-muted"><b>Following</b></div>
            <div> <a href="">{{ user.following | length}} </a> </div> 
        </div>
        <div class="stat profile-stat">
            <div class="text-muted"><b>Followers</b></div>
            <div> <a href="">{{ user.followers | length}} </a> </div> 
        </div>
        <div class="stat profile-stat">
            <div class="text-muted"><b>Likes</b></div>
            <div> <a href="">{{ user.likes | length}} </a> </div> 
        </div>
    </div>
<div class="profile-messages-info">
    <div class="">
        <div class="card profile-info">
            <div class="card-body">
                <p class="card-text"> <b>@{{ user.username }} </b></p>
                <h4 class="card-title">Bio</h4>
                <p class="card-text">{{user.bio}}</p>
                <h4 class="card-title">Location</h4>
                <p class="card-text">{{ user.location}}</p>

            </div> 
        </div> 
    </div>


    <div class="messages-list-profile">
        <div class="messages-list">
            {% if g.user.id == user.id %}
            <div class="mb-3">
                <form action="" method="POST" class="profile-form">
                    {{ form.csrf_token }}
                    {{ form.text(class="form-control", placeholder="What's Happening?") }}
                    <button class="btn btn-primary btn-sm"> Warble <i class="fa-brands fa-twitter"></i></button>
                </form>
            </div>
            {% endif %}

            {% for msg in user.messages %}
            <div class="message border">
                <div class="">
                    <a href="/messages/{{ msg.id  }}"/>
                    <a class="" href="/users/{{ msg.user.id }}">
                        <img src="{{ msg.user.image_url }}" alt="" class="rounded-circle profile-pic">
                    </a>
                </div>
                <div class="message-area">
                    <a href="/users/{{ msg.user.id }}">@{{ msg.user.username }}</a>
                    <span class="text-muted">{{ msg.timestamp.strftime('%d %B %Y') }}</span>
                    <p>{{ msg.text }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
  
{% endblock %}
