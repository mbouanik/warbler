{% extends "base.html" %} {% block title %} {% endblock %}

{% block content %}
{% if message_form.errors %}
<ul class="errors">
  {% for field_name, field_errors in message_form.errors|dictsort if field_errors %} {%
  for error in field_errors %}
  <li>{{ message_form[field_name].label }}: {{ error }}</li>
  {% endfor %} {% endfor %}
</ul>
{% endif %}
<h5 class="text-muter">{{conversation}}</h5>


<div class="list-grou">
    {% for message in conversation.messages %}
    {% if message.user.id != g.user.id %}
    <div class="list-group-itm  d-flex dmessage " style="justify-content:flex-start;">
        <div class="msg-receiver">
            {{ message.text }} 
        </div>
    </div>
      <div class="text-muted time-ago d-flex"  style="justify-content:flex-start;">
            {{ time(message.timestamp) }}
        </div>

    {% else %}
    <div class="list-group-ite d-flex " style="justify-content:flex-end; ">
        <div class="msg-sender">
            {{ message.text }} 
        </div>
        </div>
     <div class="text-muted time-ago d-flex"  style="justify-content:flex-end;">
            {{ time(message.timestamp) }}
        </div>

    {% endif %}
    {% endfor %}
</div>
<form class="message-form" action="" method="POST">
    {{ message_form.csrf_token }}
    {{ message_form.text(class="form-control") }}
    <button class=" btn btn-primary"> send</button>
</form>
    {% endblock %}
{% include "components/modal_post_form.html" %}
{% include "components/searchbar_modal.html" %}
